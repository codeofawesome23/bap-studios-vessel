{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-contact-form-{{ ai_gen_id }} {
    width: 100%;
    padding: {{ block.settings.padding_top }}px {{ block.settings.padding_right }}px {{ block.settings.padding_bottom }}px {{ block.settings.padding_left }}px;
  }

  .ai-contact-form__container-{{ ai_gen_id }} {
    margin: 0 auto;
    {% if block.settings.width == 'custom' %}
      width: {{ block.settings.custom_width }}%;
    {% else %}
      width: 100%;
      max-width: fit-content;
    {% endif %}
  }

  .ai-contact-form__wrapper-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 20px;
    width: 100%;
  }

  .ai-contact-form__row-{{ ai_gen_id }} {
    display: flex;
    gap: 16px;
    width: 100%;
  }

  .ai-contact-form__row-{{ ai_gen_id }}--single {
    flex-direction: column;
  }

  .ai-contact-form__field-{{ ai_gen_id }} {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .ai-contact-form__input-{{ ai_gen_id }},
  .ai-contact-form__select-{{ ai_gen_id }},
  .ai-contact-form__textarea-{{ ai_gen_id }} {
    padding: 16px;
    background-color: #f1ecdf;
    color: rgb(var(--color-input-text));
    border: none;
    border-radius: 4px;
    font-size: 14px;
    font-family: inherit;
  }

  .ai-contact-form__textarea-{{ ai_gen_id }} {
    min-height: 120px;
    resize: vertical;
  }

  .ai-contact-form__button-wrapper-{{ ai_gen_id }} {
    display: flex;
    {% if block.settings.button_width_desktop == 'fit' %}
      justify-content: flex-start;
    {% else %}
      justify-content: stretch;
    {% endif %}
  }

  .ai-contact-form__button-wrapper-{{ ai_gen_id }} .button {
    {% if block.settings.button_width_desktop == 'fit' %}
      width: auto;
    {% else %}
      width: {{ block.settings.button_custom_width_desktop }}%;
    {% endif %}
  }

  @media screen and (max-width: 768px) {
    .ai-contact-form__container-{{ ai_gen_id }} {
      {% if block.settings.width_mobile == 'custom' %}
        width: {{ block.settings.custom_width_mobile }}%;
      {% else %}
        width: 100%;
        max-width: fit-content;
      {% endif %}
    }

    .ai-contact-form__row-{{ ai_gen_id }} {
      flex-direction: column;
    }

    .ai-contact-form__button-wrapper-{{ ai_gen_id }} {
      {% if block.settings.button_width_mobile == 'fit' %}
        justify-content: flex-start;
      {% else %}
        justify-content: stretch;
      {% endif %}
    }

    .ai-contact-form__button-wrapper-{{ ai_gen_id }} .button {
      {% if block.settings.button_width_mobile == 'fit' %}
        width: auto;
      {% else %}
        width: {{ block.settings.button_custom_width_mobile }}%;
      {% endif %}
    }
  }
{% endstyle %}

<div
  class="ai-contact-form-{{ ai_gen_id }}{% unless block.settings.inherit_color_scheme %} color-scheme-{{ block.settings.color_scheme }}{% endunless %}"
  {{ block.shopify_attributes }}
>
  <div class="ai-contact-form__container-{{ ai_gen_id }}">
    {% form 'contact' %}
      <input type="hidden" name="contact[tags]" value="Return/Exchange Request">

      <div class="ai-contact-form__wrapper-{{ ai_gen_id }}">
        <!-- First/Last Name -->
        <div class="ai-contact-form__row-{{ ai_gen_id }}">
          <div class="ai-contact-form__field-{{ ai_gen_id }}">
            <input
              type="text"
              name="contact[first_name]"
              class="ai-contact-form__input-{{ ai_gen_id }}"
              placeholder="First Name *"
              required>
          </div>
          <div class="ai-contact-form__field-{{ ai_gen_id }}">
            <input
              type="text"
              name="contact[last_name]"
              class="ai-contact-form__input-{{ ai_gen_id }}"
              placeholder="Last Name *"
              required>
          </div>
        </div>

        <!-- Email -->
        <div class="ai-contact-form__row-{{ ai_gen_id }} ai-contact-form__row-{{ ai_gen_id }}--single">
          <div class="ai-contact-form__field-{{ ai_gen_id }}">
            <input
              type="email"
              name="contact[email]"
              class="ai-contact-form__input-{{ ai_gen_id }}"
              placeholder="Email *"
              required>
          </div>
        </div>

        <!-- Return/Exchange -->
        <div class="ai-contact-form__row-{{ ai_gen_id }} ai-contact-form__row-{{ ai_gen_id }}--single">
          <div class="ai-contact-form__field-{{ ai_gen_id }}">
            <select
              name="contact[return_exchange_type]"
              class="ai-contact-form__select-{{ ai_gen_id }}"
              required>
              <option value="" disabled selected>Select an option</option>
              <option value="Return">Return</option>
              <option value="Exchange">Exchange</option>
            </select>
          </div>
        </div>

        <!-- Reason -->
        <div class="ai-contact-form__row-{{ ai_gen_id }} ai-contact-form__row-{{ ai_gen_id }}--single">
          <div class="ai-contact-form__field-{{ ai_gen_id }}">
            <textarea
              name="contact[body]"
              class="ai-contact-form__textarea-{{ ai_gen_id }}"
              placeholder="Reason for Return/Exchange *"
              required></textarea>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="ai-contact-form__button-wrapper-{{ ai_gen_id }}">
          <button
            type="submit"
            class="button{% if block.settings.button_style %} button--{{ block.settings.button_style }}{% endif %}">
            {{ block.settings.button_text }}
          </button>
        </div>
      </div>
    {% endform %}
  </div>
</div>